(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";e.i(47167);var t=e.i(43476),s=e.i(71645);let a=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},r=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim();var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,s.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:o="",children:n,iconNode:c,...d},u)=>(0,s.createElement)("svg",{ref:u,...l,width:t,height:t,stroke:e,strokeWidth:i?24*Number(a)/Number(t):a,className:r("lucide",o),...!n&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"},...d},[...c.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(n)?n:[n]])),o=(e,t)=>{let l=(0,s.forwardRef)(({className:l,...o},n)=>(0,s.createElement)(i,{ref:n,iconNode:t,className:r(`lucide-${a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,l),...o}));return l.displayName=a(e),l},n=o("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),c=o("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),d=o("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),u=o("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),h=o("bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]),m=o("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),x=o("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),p=o("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),b=o("newspaper",[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]]),g=o("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),f=o("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),v=o("message-square-quote",[["path",{d:"M14 14a2 2 0 0 0 2-2V8h-2",key:"1r06pg"}],["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M8 14a2 2 0 0 0 2-2V8H8",key:"1jzu5j"}]]),y=o("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);async function w(e){try{let t=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=AIzaSyBvDRzKLFHdiaalGjIl-l5AP0KuGSc4qd4]",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:e}]}]})});if(!t.ok)throw Error(`API Error: ${t.status}`);let s=await t.json();return s.candidates?.[0]?.content?.parts?.[0]?.text||"Could not generate response."}catch(e){return console.error("Gemini API error:",e),"Unable to connect to AI service. Please try again later."}}let j=[{key:"reuters",label:"Reuters",rssUrl:"https://feeds.reuters.com/reuters/topNews"},{key:"bbc",label:"BBC World",rssUrl:"http://feeds.bbci.co.uk/news/world/rss.xml"},{key:"nyt",label:"NYT World",rssUrl:"https://rss.nytimes.com/services/xml/rss/nyt/World.xml"},{key:"techcrunch",label:"TechCrunch",rssUrl:"https://techcrunch.com/feed/"},{key:"verge",label:"The Verge",rssUrl:"https://www.theverge.com/rss/index.xml"}],k="news_curator_history_demo",N="news_curator_saves_demo",S="news_curator_prefs_demo";function C(e,t){if(!e)return t;try{return JSON.parse(e)}catch{return t}}let M=[{id:"demo-1",title:"SpaceX successfully launches next-gen Starship",url:"#",source:"TechCrunch",publishedAt:new Date(Date.now()-72e5).toISOString(),excerpt:"The massive rocket achieved orbit for the first time, marking a major milestone in space exploration.",topics:["Space","Tech","Musk"],image:"https://images.unsplash.com/photo-1517976487492-5750f3195933?auto=format&fit=crop&w=800&q=80"},{id:"demo-2",title:"Global markets rally as inflation data cools",url:"#",source:"Reuters",publishedAt:new Date(Date.now()-18e6).toISOString(),excerpt:"Investors are optimistic that central banks may pause rate hikes following the latest CPI report.",topics:["Economy","Markets","Finance"],image:"https://images.unsplash.com/photo-1611974765270-ca1258634369?auto=format&fit=crop&w=800&q=80"},{id:"demo-3",title:"The hidden history of ancient coffee rituals",url:"#",source:"BBC World",publishedAt:new Date(Date.now()-432e5).toISOString(),excerpt:"How a simple bean transformed societies across the Middle East and Europe.",topics:["History","Culture","Food"],image:"https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?auto=format&fit=crop&w=800&q=80"}];async function z(e){let t=`https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(e.rssUrl)}`,s=await fetch(t),a=await s.json();if("ok"!==a.status)throw Error("Failed to fetch RSS");return a.items.map(t=>({id:t.guid||t.link,title:t.title,url:t.link,source:e.label,publishedAt:t.pubDate,excerpt:(t.description||"").replace(/<[^>]*>?/gm,"").substring(0,150)+"...",image:t.thumbnail||t.enclosure?.link,topics:t.categories||[]}))}function A(e){return e.trim().toLowerCase().replace(/[^a-z0-9]/g,"")}function D({children:e,onClick:s,variant:a="primary",className:r,disabled:l}){return(0,t.jsx)("button",{onClick:s,disabled:l,className:`inline-flex items-center justify-center gap-2 rounded-xl px-4 py-2 text-sm font-medium transition-all active:scale-95 disabled:opacity-50 disabled:pointer-events-none ${{primary:"bg-slate-900 text-white hover:bg-slate-800 shadow-sm",ghost:"bg-transparent text-slate-600 hover:bg-slate-100",outline:"bg-white border border-slate-200 text-slate-700 hover:bg-slate-50 shadow-sm",danger:"bg-red-50 text-red-600 hover:bg-red-100 border border-red-100",magic:"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white shadow-md hover:opacity-90 border border-transparent"}[a]} ${r||""}`,children:e})}function T({children:e,onClick:s}){return(0,t.jsx)("span",{onClick:s,className:`inline-flex items-center rounded-md border border-slate-200 bg-white/50 px-2 py-1 text-xs font-medium text-slate-600 backdrop-blur-sm ${s?"cursor-pointer hover:bg-white hover:border-slate-300":""}`,children:e})}function E({story:e,saved:a,onOpen:r,onSave:l,onDismiss:i,debugScore:o}){let[n,c]=(0,s.useState)(null),[d,u]=(0,s.useState)(!1),x=async t=>{if(t.stopPropagation(),n)return void c(null);u(!0);let s=`
      I am reading a news story. 
      Headline: "${e.title}"
      Excerpt: "${e.excerpt}"
      Source: ${e.source}
      
      Please explain in one or two short sentences why this story might be significant or what the broader context is. 
      Focus on "why it matters". Keep it neutral and objective.
    `;c(await w(s)),u(!1)};return(0,t.jsxs)("div",{className:"group relative flex flex-col overflow-hidden rounded-3xl border border-slate-200 bg-white transition-all hover:shadow-lg hover:-translate-y-0.5",children:[e.image?(0,t.jsxs)("div",{className:"relative h-48 w-full overflow-hidden bg-slate-100",children:[(0,t.jsx)("img",{src:e.image,alt:e.title,className:"h-full w-full object-cover transition duration-700 group-hover:scale-105",onError:e=>e.currentTarget.style.display="none"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-60"}),(0,t.jsxs)("div",{className:"absolute bottom-3 left-3 flex flex-wrap gap-2 text-white",children:[(0,t.jsx)("span",{className:"rounded-full bg-white/20 px-2 py-0.5 text-xs font-medium backdrop-blur-md",children:e.source}),(0,t.jsxs)("span",{className:"flex items-center gap-1 text-xs opacity-90",children:[(0,t.jsx)(p,{size:12}),new Date(e.publishedAt).toLocaleDateString(void 0,{month:"short",day:"numeric"})]})]})]}):(0,t.jsxs)("div",{className:"flex items-center justify-between border-b border-slate-100 px-5 py-3",children:[(0,t.jsx)("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:e.source}),(0,t.jsx)("span",{className:"text-xs text-slate-400",children:new Date(e.publishedAt).toLocaleDateString()})]}),(0,t.jsxs)("div",{className:"flex flex-1 flex-col p-5",children:[(0,t.jsx)("h3",{className:"mb-2 text-lg font-bold leading-tight text-slate-900 group-hover:text-blue-600 transition-colors",children:e.title}),e.excerpt&&(0,t.jsx)("p",{className:"mb-4 line-clamp-3 text-sm text-slate-500",children:e.excerpt}),d&&(0,t.jsxs)("div",{className:"mb-4 flex items-center gap-2 rounded-xl bg-purple-50 p-3 text-xs text-purple-700 animate-pulse",children:[(0,t.jsx)(f,{size:14,className:"animate-spin"})," Analyzing context..."]}),n&&!d&&(0,t.jsxs)("div",{className:"mb-4 rounded-xl border border-purple-100 bg-purple-50 p-3 text-sm text-slate-700 shadow-sm",children:[(0,t.jsxs)("div",{className:"mb-1 flex items-center gap-1 text-xs font-bold text-purple-700",children:[(0,t.jsx)(f,{size:12})," AI Context"]}),n]}),(0,t.jsx)("div",{className:"mt-auto flex flex-wrap gap-2 mb-4",children:(e.topics||[]).slice(0,3).map(e=>(0,t.jsx)(T,{children:e},e))}),void 0!==o&&(0,t.jsxs)("div",{className:"mb-3 rounded-lg bg-blue-50 px-3 py-2 text-xs text-blue-700",children:[(0,t.jsxs)("span",{className:"font-bold",children:["Match Score: ",o.toFixed(2)]}),(0,t.jsx)("br",{}),"Based on your reading history"]}),(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2 border-t border-slate-100 pt-4",children:[(0,t.jsx)(D,{onClick:r,variant:"primary",className:"flex-1",children:"Read"}),(0,t.jsx)("button",{onClick:x,className:`rounded-xl p-2.5 transition-colors ${n?"bg-purple-100 text-purple-700":"bg-slate-50 text-slate-400 hover:bg-purple-50 hover:text-purple-600"}`,title:"Get AI Context",disabled:d,children:(0,t.jsx)(v,{size:18})}),(0,t.jsx)("button",{onClick:l,className:`rounded-xl p-2.5 transition-colors ${a?"bg-blue-50 text-blue-600":"bg-slate-50 text-slate-400 hover:bg-slate-100 hover:text-slate-600"}`,title:"Save for later",children:(0,t.jsx)(h,{size:18,fill:a?"currentColor":"none"})}),(0,t.jsx)("button",{onClick:i,className:"rounded-xl p-2.5 text-slate-400 transition-colors hover:bg-red-50 hover:text-red-500 bg-slate-50",title:"Dismiss",children:(0,t.jsx)(m,{size:18})})]})]})]})}function $(){let[e,a]=(0,s.useState)([]),[r,l]=(0,s.useState)(!1),[i,o]=(0,s.useState)(null),[p,v]=(0,s.useState)({sourcesEnabled:Object.fromEntries(j.map(e=>[e.key,!0])),mutedTopics:[],view:"for_you"}),[T,$]=(0,s.useState)([]),[_,I]=(0,s.useState)({}),[L,O]=(0,s.useState)({}),[P,F]=(0,s.useState)(""),[H,R]=(0,s.useState)(!1),[U,B]=(0,s.useState)(null),[V,q]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=C(localStorage.getItem(S),null);e&&v(e),$(C(localStorage.getItem(k),[])),I(C(localStorage.getItem(N),{})),W()},[]),(0,s.useEffect)(()=>localStorage.setItem(S,JSON.stringify(p)),[p]),(0,s.useEffect)(()=>localStorage.setItem(k,JSON.stringify(T)),[T]),(0,s.useEffect)(()=>localStorage.setItem(N,JSON.stringify(_)),[_]);let W=async()=>{l(!0);try{let e=j.filter(e=>p.sourcesEnabled[e.key]);if(0===e.length){a(M),l(!1);return}let t=e.map(e=>z(e).catch(t=>(console.warn(`Failed to fetch ${e.label}`,t),[]))),s=(await Promise.all(t)).flat(),r=Array.from(new Map(s.map(e=>[e.url,e])).values());a(r.length>0?r:M),o(new Date)}catch(e){console.error(e),a(M)}finally{l(!1)}},Y=(e,t)=>{let s={storyId:e.id,url:e.url,title:e.title,source:e.source,topics:e.topics||[],ts:Date.now(),action:t};$(e=>[...e,s]),"open"===t?window.open(e.url,"_blank"):"save"===t?I(t=>{let s={...t};return s[e.id]?delete s[e.id]:s[e.id]=e,s}):"dismiss"===t&&O(t=>({...t,[e.id]:!0}))},G=(0,s.useMemo)(()=>(function(e){let t={},s={};for(let a of e){let e=Math.pow(.5,(Date.now()-a.ts)/864e5/14)*("open"===a.action?1:"save"===a.action?2:.2);for(let r of(t[a.source]=(t[a.source]||0)+e,a.topics)){let t=A(r);t&&(s[t]=(s[t]||0)+e)}}return{sourceScores:t,topicScores:s}})(T),[T]),J=(0,s.useMemo)(()=>{let t="saved"===p.view?Object.values(_):e.filter(e=>!L[e.id]);if(P){let e=P.toLowerCase();t=t.filter(t=>t.title.toLowerCase().includes(e)||t.source.toLowerCase().includes(e))}return(p.mutedTopics.length>0&&(t=t.filter(e=>!(e.topics||[]).some(e=>p.mutedTopics.includes(A(e))))),"for_you"===p.view)?t.map(e=>({...e,_score:function(e,t){let s=Math.max(0,1-(Date.now()-new Date(e.publishedAt).getTime())/864e5/2),a=t.sourceScores[e.source]||0,r=0;for(let s of e.topics||[])r+=t.topicScores[A(s)]||0;return .35*Math.tanh(a)+.7*Math.tanh(r)+.5*s}(e,G)})).sort((e,t)=>t._score-e._score):t.sort((e,t)=>new Date(t.publishedAt).getTime()-new Date(e.publishedAt).getTime())},[e,_,L,p.view,p.mutedTopics,P,G]),K=async()=>{if(0===J.length)return;q(!0),B(null);let e=J.slice(0,8).map(e=>`- ${e.title} (${e.source})`).join("\n"),t=`
      You are a professional news anchor providing a "Morning Briefing".
      Here are the top headlines for this user:
      ${e}
      
      Synthesize these into a single, cohesive paragraph (about 3-4 sentences) summarizing the key themes or most important events. 
      Do not just list the titles. Make it sound engaging and professional.
    `;B(await w(t)),q(!1)};return(0,t.jsxs)("div",{className:"flex h-screen w-full flex-col bg-slate-50 text-slate-900 md:flex-row font-sans",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between border-b border-slate-200 bg-white p-4 md:hidden",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 font-bold text-slate-900",children:[(0,t.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-slate-900 text-white",children:"N"}),(0,t.jsx)("span",{children:"News Curator"})]}),(0,t.jsx)("button",{onClick:()=>R(!H),className:"p-2 text-slate-600",children:(0,t.jsx)(c,{size:20})})]}),(0,t.jsxs)("aside",{className:`
        fixed inset-y-0 left-0 z-20 w-80 transform overflow-y-auto border-r border-slate-200 bg-white p-6 transition-transform duration-300 ease-in-out md:relative md:translate-x-0
        ${H?"translate-x-0":"-translate-x-full"}
      `,children:[(0,t.jsxs)("div",{className:"mb-8 hidden items-center gap-2 font-bold text-slate-900 md:flex",children:[(0,t.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-slate-900 text-white",children:"N"}),(0,t.jsx)("span",{className:"text-xl",children:"News Curator"})]}),(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"mb-3 text-xs font-bold uppercase tracking-wider text-slate-400",children:"Your Feed"}),(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsxs)("button",{onClick:()=>v(e=>({...e,view:"for_you"})),className:`flex items-center gap-3 rounded-xl px-4 py-3 text-sm font-medium transition-colors ${"for_you"===p.view?"bg-blue-50 text-blue-700":"text-slate-600 hover:bg-slate-50"}`,children:[(0,t.jsx)(g,{size:18})," For You"]}),(0,t.jsxs)("button",{onClick:()=>v(e=>({...e,view:"latest"})),className:`flex items-center gap-3 rounded-xl px-4 py-3 text-sm font-medium transition-colors ${"latest"===p.view?"bg-blue-50 text-blue-700":"text-slate-600 hover:bg-slate-50"}`,children:[(0,t.jsx)(b,{size:18})," Latest News"]}),(0,t.jsxs)("button",{onClick:()=>v(e=>({...e,view:"saved"})),className:`flex items-center gap-3 rounded-xl px-4 py-3 text-sm font-medium transition-colors ${"saved"===p.view?"bg-blue-50 text-blue-700":"text-slate-600 hover:bg-slate-50"}`,children:[(0,t.jsx)(h,{size:18})," Saved (",Object.keys(_).length,")"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"mb-3 text-xs font-bold uppercase tracking-wider text-slate-400",children:"Sources"}),(0,t.jsx)("div",{className:"space-y-2",children:j.map(e=>(0,t.jsxs)("label",{className:"flex items-center justify-between rounded-lg p-2 hover:bg-slate-50 cursor-pointer",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-slate-700",children:e.label}),(0,t.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500",checked:p.sourcesEnabled[e.key],onChange:t=>v(s=>({...s,sourcesEnabled:{...s.sourcesEnabled,[e.key]:t.target.checked}}))})]},e.key))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"mb-3 text-xs font-bold uppercase tracking-wider text-slate-400",children:"Data & Privacy"}),(0,t.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4",children:[(0,t.jsx)("div",{className:"mb-3 text-xs text-slate-500",children:'This demo stores your history locally in your browser to calculate the "For You" ranking.'}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-xs font-medium text-slate-700",children:[(0,t.jsx)("span",{children:"History Events"}),(0,t.jsx)("span",{children:T.length})]}),(0,t.jsxs)(D,{variant:"outline",onClick:()=>{$([]),I({}),O({})},className:"w-full text-xs",children:[(0,t.jsx)(x,{size:14})," Clear All Data"]})]})]})]})]})]}),H&&(0,t.jsx)("div",{className:"fixed inset-0 z-10 bg-black/20 backdrop-blur-sm md:hidden",onClick:()=>R(!1)}),(0,t.jsx)("main",{className:"flex-1 overflow-y-auto",children:(0,t.jsxs)("div",{className:"mx-auto max-w-5xl p-6 md:p-10",children:[(0,t.jsxs)("div",{className:"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:"for_you"===p.view?"Top Picks For You":"latest"===p.view?"Latest Headlines":"Reading List"}),(0,t.jsx)("p",{className:"mt-1 text-slate-500",children:"for_you"===p.view?"Curated based on your local reading history.":`Showing ${J.length} stories.`})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)(D,{variant:"magic",onClick:K,disabled:V||0===J.length,className:"hidden md:flex",children:[V?(0,t.jsx)(y,{size:18,className:"animate-spin"}):(0,t.jsx)(f,{size:18}),"Smart Briefing"]}),(0,t.jsxs)("div",{className:"relative group hidden md:block",children:[(0,t.jsx)(n,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-500"}),(0,t.jsx)("input",{type:"text",placeholder:"Filter stories...",value:P,onChange:e=>F(e.target.value),className:"h-10 w-full rounded-xl border border-slate-200 bg-white pl-10 pr-4 text-sm outline-none ring-offset-2 transition-all focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 md:w-64"})]}),(0,t.jsx)(D,{variant:"outline",onClick:W,className:"h-10 w-10 p-0",disabled:r,children:(0,t.jsx)(d,{size:18,className:r?"animate-spin":""})})]})]}),U&&(0,t.jsxs)("div",{className:"mb-8 rounded-2xl bg-gradient-to-r from-indigo-600 to-purple-700 p-6 text-white shadow-lg animate-in fade-in slide-in-from-top-4",children:[(0,t.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 font-bold uppercase tracking-wider text-indigo-200 text-xs",children:[(0,t.jsx)(f,{size:14})," AI Executive Summary"]}),(0,t.jsx)("button",{onClick:()=>B(null),className:"rounded-full bg-white/10 p-1 hover:bg-white/20",children:(0,t.jsx)(m,{size:14})})]}),(0,t.jsx)("p",{className:"text-lg leading-relaxed font-medium",children:U})]}),r&&0===J.length?(0,t.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(e=>(0,t.jsx)("div",{className:"h-80 animate-pulse rounded-3xl bg-slate-200"},e))}):(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[J.map(e=>(0,t.jsx)(E,{story:e,saved:!!_[e.id],debugScore:"for_you"===p.view?e._score:void 0,onOpen:()=>Y(e,"open"),onSave:()=>Y(e,"save"),onDismiss:()=>Y(e,"dismiss")},e.id)),0===J.length&&(0,t.jsxs)("div",{className:"col-span-full py-20 text-center",children:[(0,t.jsx)("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-slate-100 text-slate-400",children:(0,t.jsx)(u,{size:32})}),(0,t.jsx)("h3",{className:"text-lg font-medium text-slate-900",children:"No stories found"}),(0,t.jsx)("p",{className:"text-slate-500",children:"Try adjusting your search or enabling more sources."}),(0,t.jsx)(D,{variant:"outline",onClick:()=>{F(""),v(e=>({...e,view:"latest"}))},className:"mt-4",children:"Reset Filters"})]})]}),(0,t.jsxs)("div",{className:"mt-12 text-center text-xs text-slate-400",children:[i&&(0,t.jsxs)("span",{children:["Last updated: ",i.toLocaleTimeString()," • "]}),(0,t.jsx)("span",{children:"Powered by rss2json • Privacy: Data stays in your browser."})]})]})})]})}e.s(["default",()=>$],31713)}]);